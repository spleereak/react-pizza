{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { setPagesCount } from '../filter/slice';\nimport axios from 'axios';\nexport const fetchPizza = createAsyncThunk('pizza/fetchPizzaStatus', async (params, thunkApi) => {\n  const {\n    sort,\n    categoryId,\n    currentPage\n  } = params;\n  const {\n    data\n  } = await axios.get(`https://d7d46da63dd6c2bd.mokky.dev/items?page=${currentPage}&limit=4${categoryId > 0 ? `&category=${categoryId}` : ''}&sortBy=${sort.sortProperty}`);\n  const dispatch = thunkApi.dispatch;\n  dispatch(setPagesCount(data.meta.total_pages));\n  return data.items;\n});","map":{"version":3,"names":["createAsyncThunk","setPagesCount","axios","fetchPizza","params","thunkApi","sort","categoryId","currentPage","data","get","sortProperty","dispatch","meta","total_pages","items"],"sources":["/home/splee/Документы/react-pizza/src/redux/slices/pizza/asyncActions.ts"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\"\nimport { setPagesCount } from '../filter/slice';\nimport { FetchPizzaArgs, FetchPizzaRes, PizzaItem } from './types';\nimport axios from 'axios';\n\nexport const fetchPizza = createAsyncThunk<PizzaItem[], FetchPizzaArgs>('pizza/fetchPizzaStatus', async (params: FetchPizzaArgs, thunkApi) => {\n  const { sort, categoryId, currentPage } : FetchPizzaArgs = params;\n  const { data } = await axios.get<FetchPizzaRes>(`https://d7d46da63dd6c2bd.mokky.dev/items?page=${currentPage}&limit=4${categoryId > 0 ? `&category=${categoryId}` : ''}&sortBy=${sort.sortProperty}`)\n  const dispatch = thunkApi.dispatch\n  dispatch(setPagesCount(data.meta.total_pages))\n  return data.items;\n})"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,SAASC,aAAa,QAAQ,iBAAiB;AAE/C,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,UAAU,GAAGH,gBAAgB,CAA8B,wBAAwB,EAAE,OAAOI,MAAsB,EAAEC,QAAQ,KAAK;EAC5I,MAAM;IAAEC,IAAI;IAAEC,UAAU;IAAEC;EAA6B,CAAC,GAAGJ,MAAM;EACjE,MAAM;IAAEK;EAAK,CAAC,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAgB,iDAAiDF,WAAW,WAAWD,UAAU,GAAG,CAAC,GAAG,aAAaA,UAAU,EAAE,GAAG,EAAE,WAAWD,IAAI,CAACK,YAAY,EAAE,CAAC;EACrM,MAAMC,QAAQ,GAAGP,QAAQ,CAACO,QAAQ;EAClCA,QAAQ,CAACX,aAAa,CAACQ,IAAI,CAACI,IAAI,CAACC,WAAW,CAAC,CAAC;EAC9C,OAAOL,IAAI,CAACM,KAAK;AACnB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}