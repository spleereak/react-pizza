{"ast":null,"code":"import React from'react';import styles from'./Search.module.scss';import debounce from'lodash.debounce';import{useDispatch}from'react-redux';import{setSearchValue}from'../../redux/filter/slice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Search=()=>{const dispatch=useDispatch();const[value,setValue]=React.useState('');const inputRef=React.useRef(null);const onClickClear=()=>{var _inputRef$current;setValue('');dispatch(setSearchValue(''));(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();};const updateSearchValue=React.useCallback(debounce(value=>{dispatch(setSearchValue(value));},1000),[]);const onChangeInput=e=>{setValue(e.target.value);updateSearchValue(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsx(\"svg\",{className:styles.icon,enableBackground:\"new 0 0 32 32\",id:\"Glyph\",version:\"1.1\",viewBox:\"0 0 32 32\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z\",id:\"XMLID_223_\"})}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,value:value,onChange:onChangeInput,className:styles.input,placeholder:\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u0438\\u0446\\u0446\\u044B ...\"}),value!==''&&/*#__PURE__*/_jsx(\"svg\",{onClick:onClickClear,className:styles.closeIcon,viewBox:\"0 0 512 512\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z\"})})]});};","map":{"version":3,"names":["React","styles","debounce","useDispatch","setSearchValue","jsx","_jsx","jsxs","_jsxs","Search","dispatch","value","setValue","useState","inputRef","useRef","onClickClear","_inputRef$current","current","focus","updateSearchValue","useCallback","onChangeInput","e","target","className","root","children","icon","enableBackground","id","version","viewBox","xmlns","d","ref","onChange","input","placeholder","onClick","closeIcon"],"sources":["/home/splee/Документы/react-pizza/src/components/Search/index.tsx"],"sourcesContent":["import React from 'react'\nimport styles from './Search.module.scss'\nimport debounce from 'lodash.debounce'\nimport { useDispatch } from 'react-redux'\nimport { setSearchValue } from '../../redux/filter/slice'\n\nexport const Search: React.FC = () => {\n  const dispatch = useDispatch();\n  const [value, setValue] = React.useState('');\n  const inputRef = React.useRef<HTMLInputElement>(null);\n\n  const onClickClear = () => {\n    setValue('')\n    dispatch(setSearchValue(''));\n    inputRef.current?.focus();\n  }\n  const updateSearchValue = React.useCallback(\n    debounce((value) => {\n      dispatch(setSearchValue(value));\n    }, 1000),\n    []\n  )\n\n  const onChangeInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value)\n    updateSearchValue(e.target.value)\n  }\n\n  return (\n    <div className={styles.root}>\n      <svg className={styles.icon} enableBackground=\"new 0 0 32 32\" id=\"Glyph\" version=\"1.1\" viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z\" id=\"XMLID_223_\"/>\n      </svg>\n      <input\n        ref={inputRef}\n        value={value}\n        onChange={onChangeInput}\n        className={styles.input}\n        placeholder='Поиск пиццы ...'\n      />\n      {value !== '' && (\n          <svg onClick={onClickClear} className={styles.closeIcon} viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z\" />\n          </svg>\n      )}\n    </div>\n  )\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,QAAQ,KAAM,iBAAiB,CACtC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,cAAc,KAAQ,0BAA0B,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzD,MAAO,MAAM,CAAAC,MAAgB,CAAGA,CAAA,GAAM,CACpC,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,KAAK,CAACa,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAC,QAAQ,CAAGd,KAAK,CAACe,MAAM,CAAmB,IAAI,CAAC,CAErD,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,KAAAC,iBAAA,CACzBL,QAAQ,CAAC,EAAE,CAAC,CACZF,QAAQ,CAACN,cAAc,CAAC,EAAE,CAAC,CAAC,CAC5B,CAAAa,iBAAA,CAAAH,QAAQ,CAACI,OAAO,UAAAD,iBAAA,iBAAhBA,iBAAA,CAAkBE,KAAK,CAAC,CAAC,CAC3B,CAAC,CACD,KAAM,CAAAC,iBAAiB,CAAGpB,KAAK,CAACqB,WAAW,CACzCnB,QAAQ,CAAES,KAAK,EAAK,CAClBD,QAAQ,CAACN,cAAc,CAACO,KAAK,CAAC,CAAC,CACjC,CAAC,CAAE,IAAI,CAAC,CACR,EACF,CAAC,CAED,KAAM,CAAAW,aAAa,CAAIC,CAAsC,EAAK,CAChEX,QAAQ,CAACW,CAAC,CAACC,MAAM,CAACb,KAAK,CAAC,CACxBS,iBAAiB,CAACG,CAAC,CAACC,MAAM,CAACb,KAAK,CAAC,CACnC,CAAC,CAED,mBACEH,KAAA,QAAKiB,SAAS,CAAExB,MAAM,CAACyB,IAAK,CAAAC,QAAA,eAC1BrB,IAAA,QAAKmB,SAAS,CAAExB,MAAM,CAAC2B,IAAK,CAACC,gBAAgB,CAAC,eAAe,CAACC,EAAE,CAAC,OAAO,CAACC,OAAO,CAAC,KAAK,CAACC,OAAO,CAAC,WAAW,CAACC,KAAK,CAAC,4BAA4B,CAAAN,QAAA,cAC3IrB,IAAA,SAAM4B,CAAC,CAAC,qSAAqS,CAACJ,EAAE,CAAC,YAAY,CAAC,CAAC,CAC5T,CAAC,cACNxB,IAAA,UACE6B,GAAG,CAAErB,QAAS,CACdH,KAAK,CAAEA,KAAM,CACbyB,QAAQ,CAAEd,aAAc,CACxBG,SAAS,CAAExB,MAAM,CAACoC,KAAM,CACxBC,WAAW,CAAC,mEAAiB,CAC9B,CAAC,CACD3B,KAAK,GAAK,EAAE,eACTL,IAAA,QAAKiC,OAAO,CAAEvB,YAAa,CAACS,SAAS,CAAExB,MAAM,CAACuC,SAAU,CAACR,OAAO,CAAC,aAAa,CAACC,KAAK,CAAC,4BAA4B,CAAAN,QAAA,cAC/GrB,IAAA,SAAM4B,CAAC,CAAC,8UAA8U,CAAE,CAAC,CACtV,CACR,EACE,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}