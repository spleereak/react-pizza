{"ast":null,"code":"import{createAsyncThunk}from\"@reduxjs/toolkit\";import{setPagesCount}from'../filter/slice';import axios from'axios';export const fetchPizza=createAsyncThunk('pizza/fetchPizzaStatus',async(params,thunkApi)=>{const{sort,categoryId,currentPage}=params;const{data}=await axios.get(\"https://d7d46da63dd6c2bd.mokky.dev/items?page=\".concat(currentPage,\"&limit=4\").concat(categoryId>0?\"&category=\".concat(categoryId):'',\"&sortBy=\").concat(sort.sortProperty));const dispatch=thunkApi.dispatch;dispatch(setPagesCount(data.meta.total_pages));return data.items;});","map":{"version":3,"names":["createAsyncThunk","setPagesCount","axios","fetchPizza","params","thunkApi","sort","categoryId","currentPage","data","get","concat","sortProperty","dispatch","meta","total_pages","items"],"sources":["/home/splee/Документы/react-pizza/src/redux/pizza/asyncActions.ts"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\"\nimport { setPagesCount } from '../filter/slice';\nimport { FetchPizzaArgs, FetchPizzaRes, PizzaItem } from './types';\nimport axios from 'axios';\n\nexport const fetchPizza = createAsyncThunk<PizzaItem[], FetchPizzaArgs>('pizza/fetchPizzaStatus', async (params: FetchPizzaArgs, thunkApi) => {\n  const { sort, categoryId, currentPage } : FetchPizzaArgs = params;\n  const { data } = await axios.get<FetchPizzaRes>(`https://d7d46da63dd6c2bd.mokky.dev/items?page=${currentPage}&limit=4${categoryId > 0 ? `&category=${categoryId}` : ''}&sortBy=${sort.sortProperty}`)\n  const dispatch = thunkApi.dispatch\n  dispatch(setPagesCount(data.meta.total_pages))\n  return data.items;\n})"],"mappings":"AAAA,OAASA,gBAAgB,KAAQ,kBAAkB,CACnD,OAASC,aAAa,KAAQ,iBAAiB,CAE/C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,MAAO,MAAM,CAAAC,UAAU,CAAGH,gBAAgB,CAA8B,wBAAwB,CAAE,MAAOI,MAAsB,CAAEC,QAAQ,GAAK,CAC5I,KAAM,CAAEC,IAAI,CAAEC,UAAU,CAAEC,WAA6B,CAAC,CAAGJ,MAAM,CACjE,KAAM,CAAEK,IAAK,CAAC,CAAG,KAAM,CAAAP,KAAK,CAACQ,GAAG,kDAAAC,MAAA,CAAiEH,WAAW,aAAAG,MAAA,CAAWJ,UAAU,CAAG,CAAC,cAAAI,MAAA,CAAgBJ,UAAU,EAAK,EAAE,aAAAI,MAAA,CAAWL,IAAI,CAACM,YAAY,CAAE,CAAC,CACrM,KAAM,CAAAC,QAAQ,CAAGR,QAAQ,CAACQ,QAAQ,CAClCA,QAAQ,CAACZ,aAAa,CAACQ,IAAI,CAACK,IAAI,CAACC,WAAW,CAAC,CAAC,CAC9C,MAAO,CAAAN,IAAI,CAACO,KAAK,CACnB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}