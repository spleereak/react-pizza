{"ast":null,"code":"import React from'react';import{Link,useLocation}from'react-router-dom';import logoSvg from'../assets/img/pizza-logo.svg';import cartSvg from'../assets/img/cart.svg';import{Search}from'./Search';import{useSelector}from'react-redux';import{selectCart}from'../redux/cart/selectors';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Header=()=>{const{totalPrice,items}=useSelector(selectCart);const location=useLocation();const totalCount=items.reduce((sum,item)=>sum+item.count,0);React.useEffect(()=>{if(items.length>0){const json=JSON.stringify(items);localStorage.setItem('cart',json);}else{localStorage.setItem('cart',\"[]\");}},[items]);return/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header__logo\",children:[/*#__PURE__*/_jsx(\"img\",{width:\"38\",src:logoSvg,alt:\"Pizza logo\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"React Pizza\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0441\\u0430\\u043C\\u0430\\u044F \\u0432\\u043A\\u0443\\u0441\\u043D\\u0430\\u044F \\u043F\\u0438\\u0446\\u0446\\u0430 \\u0432\\u043E \\u0432\\u0441\\u0435\\u043B\\u0435\\u043D\\u043D\\u043E\\u0439\"})]})]})}),location.pathname!=='/cart'&&/*#__PURE__*/_jsx(Search,{}),location.pathname!=='/cart'&&/*#__PURE__*/_jsx(\"div\",{className:\"header__cart\",children:/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"button button--cart\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[totalPrice,\" \\u20BD\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"button__delimiter\"}),/*#__PURE__*/_jsx(\"img\",{src:cartSvg,width:\"18\",height:\"18\",alt:\"CartImg\"}),/*#__PURE__*/_jsx(\"span\",{children:totalCount})]})})]})});};","map":{"version":3,"names":["React","Link","useLocation","logoSvg","cartSvg","Search","useSelector","selectCart","jsx","_jsx","jsxs","_jsxs","Header","totalPrice","items","location","totalCount","reduce","sum","item","count","useEffect","length","json","JSON","stringify","localStorage","setItem","className","children","to","width","src","alt","pathname","height"],"sources":["/home/splee/Документы/react-pizza/src/components/Header.tsx"],"sourcesContent":["import React from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport logoSvg from '../assets/img/pizza-logo.svg'\nimport cartSvg from '../assets/img/cart.svg'\nimport { Search } from './Search'\nimport { useSelector } from 'react-redux'\nimport { selectCart } from '../redux/cart/selectors'\n\nexport const Header: React.FC = () => {\n  const { totalPrice, items } = useSelector(selectCart);\n  const location = useLocation();\n\n  const totalCount = items.reduce((sum: number, item: {\n    count: number\n  }) => sum + item.count, 0);\n\n  React.useEffect(() => {\n    if (items.length > 0) {\n      const json = JSON.stringify(items);\n      localStorage.setItem('cart', json);\n    } else {\n      localStorage.setItem('cart', \"[]\");\n    }\n  }, [items])\n\n  return (\n    <div className=\"header\">\n      <div className=\"container\">\n        <Link to='/'>\n          <div className=\"header__logo\">\n            <img width=\"38\" src={logoSvg} alt=\"Pizza logo\" />\n            <div>\n              <h1>React Pizza</h1>\n              <p>самая вкусная пицца во вселенной</p>\n            </div>\n          </div>\n        </Link>\n        {location.pathname !== '/cart' && <Search />}\n        {location.pathname !== '/cart' && <div className=\"header__cart\">\n          <Link to='/cart' className='button button--cart'>\n            <span>{totalPrice} ₽</span>\n            <div className=\"button__delimiter\"></div>\n            <img src={cartSvg} width=\"18\" height=\"18\" alt='CartImg' />\n            <span>{totalCount}</span>\n          </Link>          \n        </div>}\n      </div>\n    </div>    \n  )\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,OAAO,KAAM,8BAA8B,CAClD,MAAO,CAAAC,OAAO,KAAM,wBAAwB,CAC5C,OAASC,MAAM,KAAQ,UAAU,CACjC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,UAAU,KAAQ,yBAAyB,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,MAAO,MAAM,CAAAC,MAAgB,CAAGA,CAAA,GAAM,CACpC,KAAM,CAAEC,UAAU,CAAEC,KAAM,CAAC,CAAGR,WAAW,CAACC,UAAU,CAAC,CACrD,KAAM,CAAAQ,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAc,UAAU,CAAGF,KAAK,CAACG,MAAM,CAAC,CAACC,GAAW,CAAEC,IAE7C,GAAKD,GAAG,CAAGC,IAAI,CAACC,KAAK,CAAE,CAAC,CAAC,CAE1BpB,KAAK,CAACqB,SAAS,CAAC,IAAM,CACpB,GAAIP,KAAK,CAACQ,MAAM,CAAG,CAAC,CAAE,CACpB,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,SAAS,CAACX,KAAK,CAAC,CAClCY,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEJ,IAAI,CAAC,CACpC,CAAC,IAAM,CACLG,YAAY,CAACC,OAAO,CAAC,MAAM,CAAE,IAAI,CAAC,CACpC,CACF,CAAC,CAAE,CAACb,KAAK,CAAC,CAAC,CAEX,mBACEL,IAAA,QAAKmB,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrBlB,KAAA,QAAKiB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBpB,IAAA,CAACR,IAAI,EAAC6B,EAAE,CAAC,GAAG,CAAAD,QAAA,cACVlB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BpB,IAAA,QAAKsB,KAAK,CAAC,IAAI,CAACC,GAAG,CAAE7B,OAAQ,CAAC8B,GAAG,CAAC,YAAY,CAAE,CAAC,cACjDtB,KAAA,QAAAkB,QAAA,eACEpB,IAAA,OAAAoB,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBpB,IAAA,MAAAoB,QAAA,CAAG,8KAAgC,CAAG,CAAC,EACpC,CAAC,EACH,CAAC,CACF,CAAC,CACNd,QAAQ,CAACmB,QAAQ,GAAK,OAAO,eAAIzB,IAAA,CAACJ,MAAM,GAAE,CAAC,CAC3CU,QAAQ,CAACmB,QAAQ,GAAK,OAAO,eAAIzB,IAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC7DlB,KAAA,CAACV,IAAI,EAAC6B,EAAE,CAAC,OAAO,CAACF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAC9ClB,KAAA,SAAAkB,QAAA,EAAOhB,UAAU,CAAC,SAAE,EAAM,CAAC,cAC3BJ,IAAA,QAAKmB,SAAS,CAAC,mBAAmB,CAAM,CAAC,cACzCnB,IAAA,QAAKuB,GAAG,CAAE5B,OAAQ,CAAC2B,KAAK,CAAC,IAAI,CAACI,MAAM,CAAC,IAAI,CAACF,GAAG,CAAC,SAAS,CAAE,CAAC,cAC1DxB,IAAA,SAAAoB,QAAA,CAAOb,UAAU,CAAO,CAAC,EACrB,CAAC,CACJ,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}