{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Categories=/*#__PURE__*/React.memo(_ref=>{let{value,onChangeCategory}=_ref;const[open,setOpen]=React.useState(false);const categoryRef=React.useRef(null);const onClickListItem=index=>{onChangeCategory(index);setOpen(false);};React.useEffect(()=>{const handleClickOutside=event=>{if(categoryRef.current&&!event.composedPath().includes(categoryRef.current)){setOpen(false);}};document.body.addEventListener('click',handleClickOutside);return()=>{document.body.removeEventListener('click',handleClickOutside);};},[]);const categories=['Все','Мясные','Вегетарианская','Гриль','Острые','Закрытые'];return/*#__PURE__*/_jsxs(\"div\",{className:\"categories\",onClick:()=>setOpen(!open),ref:categoryRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"categories__label\",children:[/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"svg\",{className:open?'active':'',width:\"10\",height:\"6\",viewBox:\"0 0 10 6\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z\",fill:\"#ffffff\"})})}),/*#__PURE__*/_jsx(\"b\",{children:\"\\u0412\\u0438\\u0434\\u044B \\u043F\\u0438\\u0446\\u0446:\"}),/*#__PURE__*/_jsx(\"span\",{children:categories[value]})]}),open&&/*#__PURE__*/_jsx(\"div\",{className:\"categories__popup\",children:/*#__PURE__*/_jsx(\"ul\",{children:categories.map((categoryName,i)=>/*#__PURE__*/_jsx(\"li\",{className:value===i?'active':'',onClick:()=>onClickListItem(i),children:categoryName},i))})})]});});","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","Categories","memo","_ref","value","onChangeCategory","open","setOpen","useState","categoryRef","useRef","onClickListItem","index","useEffect","handleClickOutside","event","current","composedPath","includes","document","body","addEventListener","removeEventListener","categories","className","onClick","ref","children","width","height","viewBox","fill","xmlns","d","map","categoryName","i"],"sources":["/home/splee/Документы/react-pizza/src/components/Categories.tsx"],"sourcesContent":["import React from 'react'\n\ntype CategoriesProps = {\n  value: number,\n  onChangeCategory: (index: number) => void,\n}\n\nexport const Categories: React.FC<CategoriesProps> = React.memo(({ value, onChangeCategory }) => {\n  const [open, setOpen] = React.useState(false)\n  const categoryRef = React.useRef<HTMLDivElement>(null)\n\n  const onClickListItem = (index: number) => {\n    onChangeCategory(index)\n    setOpen(false)\n  }\n\n  React.useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {      \n      if (categoryRef.current && !event.composedPath().includes(categoryRef.current)) {\n        setOpen(false)\n      }\n    }\n    document.body.addEventListener('click', handleClickOutside)\n    return () => {\n      document.body.removeEventListener('click', handleClickOutside)\n    }\n  }, [])\n\n  const categories = [\n    'Все',\n    'Мясные',\n    'Вегетарианская',\n    'Гриль',\n    'Острые',\n    'Закрытые'\n  ]\n\n  return (\n    <div className=\"categories\" onClick={() => setOpen(!open)} ref={categoryRef}>\n      <div className=\"categories__label\">        \n        <b>\n          <svg className={open ? 'active' : ''} width=\"10\" height=\"6\" viewBox=\"0 0 10 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z\" fill=\"#ffffff\"></path>\n          </svg>          \n        </b>\n        <b>Виды пицц:</b>\n        <span>{categories[value]}</span>\n      </div>\n        {open && (        \n            <div className=\"categories__popup\">\n              <ul>\n                {\n                  categories.map((categoryName, i) => (\n                    <li key={i} className={value === i ? 'active' : ''} onClick={() => onClickListItem(i)}>{categoryName}</li>\n                  ))\n                }\n              </ul>\n            </div>      \n        )}\n    </div>\n  )\n})\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAOzB,MAAO,MAAM,CAAAC,UAAqC,cAAGL,KAAK,CAACM,IAAI,CAACC,IAAA,EAAiC,IAAhC,CAAEC,KAAK,CAAEC,gBAAiB,CAAC,CAAAF,IAAA,CAC1F,KAAM,CAACG,IAAI,CAAEC,OAAO,CAAC,CAAGX,KAAK,CAACY,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAAC,WAAW,CAAGb,KAAK,CAACc,MAAM,CAAiB,IAAI,CAAC,CAEtD,KAAM,CAAAC,eAAe,CAAIC,KAAa,EAAK,CACzCP,gBAAgB,CAACO,KAAK,CAAC,CACvBL,OAAO,CAAC,KAAK,CAAC,CAChB,CAAC,CAEDX,KAAK,CAACiB,SAAS,CAAC,IAAM,CACpB,KAAM,CAAAC,kBAAkB,CAAIC,KAAiB,EAAK,CAChD,GAAIN,WAAW,CAACO,OAAO,EAAI,CAACD,KAAK,CAACE,YAAY,CAAC,CAAC,CAACC,QAAQ,CAACT,WAAW,CAACO,OAAO,CAAC,CAAE,CAC9ET,OAAO,CAAC,KAAK,CAAC,CAChB,CACF,CAAC,CACDY,QAAQ,CAACC,IAAI,CAACC,gBAAgB,CAAC,OAAO,CAAEP,kBAAkB,CAAC,CAC3D,MAAO,IAAM,CACXK,QAAQ,CAACC,IAAI,CAACE,mBAAmB,CAAC,OAAO,CAAER,kBAAkB,CAAC,CAChE,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAS,UAAU,CAAG,CACjB,KAAK,CACL,QAAQ,CACR,gBAAgB,CAChB,OAAO,CACP,QAAQ,CACR,UAAU,CACX,CAED,mBACEvB,KAAA,QAAKwB,SAAS,CAAC,YAAY,CAACC,OAAO,CAAEA,CAAA,GAAMlB,OAAO,CAAC,CAACD,IAAI,CAAE,CAACoB,GAAG,CAAEjB,WAAY,CAAAkB,QAAA,eAC1E3B,KAAA,QAAKwB,SAAS,CAAC,mBAAmB,CAAAG,QAAA,eAChC7B,IAAA,MAAA6B,QAAA,cACE7B,IAAA,QAAK0B,SAAS,CAAElB,IAAI,CAAG,QAAQ,CAAG,EAAG,CAACsB,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,GAAG,CAACC,OAAO,CAAC,UAAU,CAACC,IAAI,CAAC,MAAM,CAACC,KAAK,CAAC,4BAA4B,CAAAL,QAAA,cAC3H7B,IAAA,SAAMmC,CAAC,CAAC,2WAA2W,CAACF,IAAI,CAAC,SAAS,CAAO,CAAC,CACvY,CAAC,CACL,CAAC,cACJjC,IAAA,MAAA6B,QAAA,CAAG,oDAAU,CAAG,CAAC,cACjB7B,IAAA,SAAA6B,QAAA,CAAOJ,UAAU,CAACnB,KAAK,CAAC,CAAO,CAAC,EAC7B,CAAC,CACHE,IAAI,eACDR,IAAA,QAAK0B,SAAS,CAAC,mBAAmB,CAAAG,QAAA,cAChC7B,IAAA,OAAA6B,QAAA,CAEIJ,UAAU,CAACW,GAAG,CAAC,CAACC,YAAY,CAAEC,CAAC,gBAC7BtC,IAAA,OAAY0B,SAAS,CAAEpB,KAAK,GAAKgC,CAAC,CAAG,QAAQ,CAAG,EAAG,CAACX,OAAO,CAAEA,CAAA,GAAMd,eAAe,CAACyB,CAAC,CAAE,CAAAT,QAAA,CAAEQ,YAAY,EAA3FC,CAAgG,CAC1G,CAAC,CAEF,CAAC,CACF,CACR,EACA,CAAC,CAEV,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}